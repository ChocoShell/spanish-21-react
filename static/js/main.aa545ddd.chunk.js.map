{"version":3,"sources":["context/root-context.js","Card.js","CardContainer.js","Player.js","utils.js","PlayerContainer.js","Dealer.js","DealerContainer.js","Shoe.js","ShoeContainer.js","Spanish21.js","App.js","serviceWorker.js","index.js"],"names":["RootContext","React","createContext","shoe","cardInd","players","activePlayer","dealCard","dealCardToPlayer","playerId","setActivePlayer","setNextPlayer","dealRound","Card","props","className","hide","value","width","src","process","suit","alt","CardContainer","cardId","card","cards","rank","Player","message","bust","active","onClick","hit","stay","id","total","map","index","key","shuffle","deck","numOfDecks","Math","round","length","i","location1","floor","random","location2","tmp","getDecks","decks","push","rank2Value","sumCards","cardArr","aces","a","PlayerContainer","useContext","Dealer","nextPlayer","DealerContainer","playerInfo","dealCardsToDealer","useEffect","useDealer","Shoe","currentCard","cardsLeft","ShoeContainer","Spanish21","slice","_","App","setState","state","player","nextPlayerId","dealCardNoState","oldShoe","pop","shoeCopy","newShoe","newCards","dealer","stateShoe","resetRound","j","Provider","this","Component","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.aa545ddd.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst state = {\r\n  shoe: null,\r\n  cardInd: 0,\r\n  players: [],\r\n  activePlayer: 0,\r\n}\r\n\r\nconst RootContext = React.createContext({\r\n  ...state,\r\n  dealCard: () => {},\r\n  dealCardToPlayer: playerId => {},\r\n  setActivePlayer: playerId => {},\r\n  setNextPlayer: () => {},\r\n  dealRound: () => {},\r\n});\r\n\r\nexport default RootContext;\r\n","import React from 'react';\r\nimport './Card.css';\r\n\r\nconst Card = props => {\r\n  return (\r\n    <div className=\"card\">\r\n    {!props.hide &&\r\n      <div className=\"card-content\">\r\n        <div className=\"value\">\r\n          {props.value}\r\n        </div>\r\n        <img className=\"card-suit\" width=\"42px\" src={`${process.env.PUBLIC_URL}/img/${props.suit}.png`} alt={props.suit && `${props.suit}`}/>\r\n      </div>\r\n    }\r\n    {props.hide &&\r\n      <div className=\"card-content\">Hidden Card</div>\r\n    }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Card;\r\n","import React from 'react';\r\n\r\nimport cards from './cards.json';\r\nimport Card from './Card';\r\n\r\nconst CardContainer = ({cardId, hide}) => {\r\n  const card = cards[cardId]\r\n  return (\r\n    <Card\r\n      hide={hide}\r\n      value={card && card.rank}\r\n      suit={card && card.suit}\r\n    />\r\n  )\r\n}\r\n\r\nexport default CardContainer;\r\n","import React from 'react';\r\nimport './Player.css';\r\n\r\nimport Card from './CardContainer';\r\n\r\nconst Player = props => {\r\n  let message;\r\n  if (props.bust) {\r\n    message = <h4>BUSTED</h4>\r\n  } else if (props.active) {\r\n    message = (\r\n      <div>\r\n        <button className=\"btn btn-success\" onClick={props.hit}> Hit </button>\r\n        <button className=\"btn btn-danger\" onClick={props.stay}> Stay </button>\r\n      </div>\r\n    )\r\n  }\r\n  return (\r\n    <div className=\"player\" id={props.id}>      \r\n      <div className=\"player-header\">\r\n        <h4>\r\n          Player {props.id}: {props.total}\r\n        </h4>\r\n        {message}\r\n      </div>\r\n      <div className=\"cards\">\r\n        {\r\n          props.cards.map(\r\n            (card, index) => {\r\n              return <Card key={index} cardId={card}/>\r\n            }\r\n          )\r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Player;\r\n","import cards from './cards.json'\r\n\r\n// card utils\r\nexport function shuffle(deck)\r\n{\r\n  // for 1000 turns for each deck\r\n  // switch the values of two random cards\r\n  const numOfDecks = Math.round(deck.length/52);\r\n  for (var i = 0; i < (numOfDecks*1000); i++)\r\n  {\r\n    var location1 = Math.floor((Math.random() * deck.length));\r\n    var location2 = Math.floor((Math.random() * deck.length));\r\n    var tmp = deck[location1];\r\n\r\n    deck[location1] = deck[location2];\r\n    deck[location2] = tmp;\r\n  }\r\n  return deck\r\n}\r\n\r\nexport function getDecks(numOfDecks)\r\n{\r\n  var decks = []\r\n  for (var deck = 0; deck < numOfDecks; deck++)\r\n  {\r\n    for (var i = 0; i < cards.length; i++) {\r\n      decks.push(i)  \r\n    }\r\n  }\r\n  return decks;\r\n}\r\n// export function getDecks(numOfDecks)\r\n// //https://www.thatsoftwaredude.com/content/6196/coding-a-card-deck-in-javascript\r\n// {\r\n//   var deck = [];\r\n//   var suits = [\"spades\", \"diamonds\", \"clubs\", \"hearts\"];\r\n//   // Spanish 21 doesn't use 10's\r\n//   var ranks = [\"A\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"J\", \"Q\", \"K\"];\r\n//   // var ranks = [\"A\"];\r\n\r\n//   for (var d = 0; d < numOfDecks; d++)\r\n//   {\r\n//     for(var i = 0; i < suits.length; i++)\r\n//     {\r\n//       for(var x = 0; x < ranks.length; x++)\r\n//       {\r\n//         var card = {rank: ranks[x], suit: suits[i]};\r\n//         console.log(`{\"rank\": \"${ranks[x]}\", \"suit\": \"${suits[i]}\"},`)\r\n//         deck.push(card);\r\n//       }\r\n//     }\r\n//   }\r\n\r\n//   return deck;\r\n// }\r\n\r\nconst rank2Value = {\r\n  \"A\": 11,\r\n  \"2\": 2,\r\n  \"3\": 3,\r\n  \"4\": 4,\r\n  \"5\": 5,\r\n  \"6\": 6,\r\n  \"7\": 7,\r\n  \"8\": 8,\r\n  \"9\": 9,\r\n  \"J\": 10,\r\n  \"Q\": 10,\r\n  \"K\": 10\r\n}\r\n\r\nexport function sumCards(cardArr)\r\n{\r\n  var total = 0\r\n  var aces = 0 // count aces\r\n  for (var i = 0; i < cardArr.length; i++) {\r\n    const card = cards[cardArr[i]]\r\n    const rank = card.rank\r\n    if (rank === \"A\") {\r\n      aces++\r\n    } else {\r\n      const value = rank2Value[rank]\r\n      total += value\r\n    }\r\n  }\r\n  for (var a = 0; a < aces; a++) {\r\n    if (11-aces+a+1 <= total) {\r\n      total += 1\r\n    } else {\r\n      total += 11\r\n    }\r\n  }\r\n return total;\r\n}\r\n\r\n\r\n// Turn into component\r\n// export function renderDeck()\r\n// {\r\n//   document.getElementById(\"deck\").innerHTML = \"\";\r\n\r\n//   for(let i = 0; i < deck.length; i++)\r\n//   {\r\n//     let card = document.createElement(\"div\");\r\n//     let value = document.createElement(\"div\");\r\n//     let suit = document.createElement(\"div\");\r\n//     card.className = \"card\";\r\n//     value.className = \"value\";\r\n//     suit.className = \"suit \" + deck[i].Suit;\r\n\r\n//     value.innerHTML = deck[i].Value;\r\n//     card.appendChild(value);\r\n//     card.appendChild(suit);\r\n\r\n//     document.getElementById(\"deck\").appendChild(card);\r\n//   }\r\n// }\r\n","import React, { useContext } from 'react';\r\n\r\nimport Player from './Player';\r\nimport {sumCards} from './utils';\r\nimport RootContext from './context/root-context';\r\n\r\nconst PlayerContainer = ({id}) => {\r\n  const {\r\n    dealCard,\r\n    setNextPlayer,\r\n    players,\r\n  } = useContext(RootContext)\r\n  const {cards, active, bust, total} = players[id]\r\n  const dealCardToMe = () => dealCard(id)\r\n  return (\r\n    <Player\r\n      id={id}\r\n      cards={cards}\r\n      active={active}\r\n      bust={bust}\r\n      total={total}\r\n      hit={dealCardToMe}\r\n      stay={setNextPlayer}\r\n    />\r\n  )\r\n}\r\n\r\nexport default PlayerContainer;\r\n","import React from 'react';\r\nimport './Dealer.css';\r\n\r\nimport Card from './CardContainer';\r\n\r\nconst Dealer = props => {\r\n  return (\r\n    <div className=\"dealer\" id={props.id}>\r\n      <div>\r\n       {props.active &&\r\n          <div>\r\n            Dealer: {props.total} {props.bust && \"BUSTED\"}\r\n          </div>\r\n        }\r\n        {!props.active &&\r\n          <div>\r\n            Dealer: Hidden\r\n          </div>\r\n        }\r\n        <div className=\"dealer-cards\">\r\n        {\r\n          props.cards.map(\r\n            (card, index) => {\r\n              return <Card key={index} cardId={card} hide={index === 0 && !props.active}/>\r\n            }\r\n          )\r\n        }\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <button className=\"btn btn-primary\" onClick={props. nextPlayer}>Go to next player</button>\r\n        <button className=\"btn btn-info\" onClick={props.dealRound}>Deal Round</button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Dealer;\r\n","import React, { useContext, useEffect } from 'react';\r\n\r\nimport Dealer from './Dealer';\r\nimport {sumCards} from './utils';\r\nimport RootContext from './context/root-context';\r\n\r\nconst useDealer = active => {\r\n  const {dealCardsToDealer} = useContext(RootContext)\r\n\r\n  useEffect(() => {\r\n    if (active) {\r\n      dealCardsToDealer()\r\n    }\r\n  }, [active])\r\n}\r\n\r\n\r\nconst DealerContainer = ({id}) => {\r\n  const {\r\n    dealRound,\r\n    setNextPlayer,\r\n    ...context\r\n  } = useContext(RootContext)\r\n\r\n  const playerInfo = context.players[id]\r\n  const {cards, active} = playerInfo\r\n\r\n  useDealer(active)\r\n  \r\n  const total = sumCards(cards)\r\n  const bust = total > 21\r\n\r\n  return (\r\n    <Dealer\r\n      id={id}\r\n      cards={cards}\r\n      total={total}\r\n      bust={bust}\r\n      active={active}\r\n      nextPlayer={setNextPlayer}\r\n      dealRound={dealRound}\r\n    />\r\n  )\r\n}\r\n\r\nexport default DealerContainer;\r\n","import React, { useContext } from 'react';\r\nimport './Shoe.css';\r\n\r\nimport Card from './CardContainer.js'\r\n\r\n\r\nconst Shoe = props => {\r\n  return (\r\n    <div className=\"spanish21-shoe\">\r\n      <Card cardId={props.currentCard}/>\r\n      <div>\r\n        Cards Left: {props.cardsLeft}\r\n      </div>\r\n      <button className=\"btn btn-secondary\" onClick={props.dealCard}>\r\n        Deal Card\r\n      </button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Shoe;\r\n","import React, { useContext } from 'react';\r\n\r\nimport RootContext from './context/root-context';\r\nimport Shoe from './Shoe';\r\n\r\n\r\nconst ShoeContainer = () => {\r\n  const {\r\n    dealCard,\r\n    shoe,\r\n  } = useContext(RootContext)\r\n\r\n  const currentCard = shoe[shoe.length-1]\r\n\r\n  return (\r\n    <Shoe\r\n      dealCard={dealCard}\r\n      cardsLeft={shoe.length}\r\n      currentCard={currentCard}\r\n    />\r\n  )\r\n}\r\n\r\nexport default ShoeContainer;\r\n","import React, { Component, useContext } from 'react';\r\n\r\nimport RootContext from './context/root-context';\r\n\r\nimport './Spanish21.css';\r\n\r\nimport Player from './PlayerContainer';\r\nimport Dealer from './DealerContainer';\r\nimport Shoe from './ShoeContainer';\r\n\r\n\r\nconst Spanish21 = () => {\r\n  const {\r\n    shoe,\r\n    players,\r\n    activePlayer,\r\n    // Functions\r\n    dealCard,\r\n    dealCardToPlayer,\r\n    dealRound,\r\n    setNextPlayer,\r\n  } = useContext(RootContext)\r\n\r\n  // reducer(state, action) {\r\n  //   switch (action.type) {\r\n  //     case 'getCardFromShoe': {\r\n  //       const shoeCopy = this.state.shoe.slice()\r\n  //       const card = shoeCopy.pop()\r\n  //       const newShoe =  shoeCopy.length === 0 ? shuffle(getDecks(8)) : shoeCopy\r\n  //       return {...state, shoe: newShoe}\r\n  //     }\r\n  //     default:\r\n  //       throw new Error();\r\n  //   }\r\n  // }\r\n\r\n  // getCardFromShoe() {\r\n  //   const shoeCopy = this.state.shoe.slice()\r\n  //   const card = shoeCopy.pop()\r\n  //   const newShoe =  shoeCopy.length === 0 ? shuffle(getDecks(8)) : shoeCopy\r\n  //   this.setState({shoe: newShoe})\r\n  //   return card\r\n  // }\r\n  //<Dealer />\r\n  // <div className=\"dealerside\">    \r\n  //         <Shoe\r\n  //           shoe={shoe}\r\n  //           card={card}\r\n  //           dealCard={card}\r\n  //         />\r\n  //       </div>\r\n  //       <div className=\"players\">\r\n  //         {\r\n  //           players.map(\r\n  //             (player, index) => {\r\n  //               return (\r\n  //                 <Player\r\n  //                   key={index}\r\n  //                   player={player}\r\n  //                   id={index}\r\n  //                 />\r\n  //               )\r\n  //             }\r\n  //           )\r\n  //         }\r\n  //       </div>\r\n  //       <div>\r\n  //         <button onClick={this.dealRound}>\r\n  //           Deal Round\r\n  //         </button>\r\n  //       </div>\r\n\r\n  // Game should have min and max bet\r\n  return (\r\n    <div className=\"game\">\r\n      <div>\r\n        <Dealer id={0} />\r\n        <div className=\"dealerside\">    \r\n          <Shoe />\r\n        </div>\r\n        <div className=\"players\">\r\n          {\r\n            players.slice(1).map(\r\n              (_, index) => <Player key={index+1} id={index+1} />\r\n            )\r\n          }\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Spanish21;","import React, {useReducer} from 'react';\r\n\r\nimport RootContext from './context/root-context';\r\nimport Spanish21 from './Spanish21';\r\n\r\nimport {shuffle, getDecks, sumCards} from './utils';\r\n\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    \r\n    this.setActivePlayer = playerId => {\r\n      this.setState(\r\n        state => {\r\n          const players = state.players.map(\r\n            player => ({\r\n              ...player,\r\n              active: false\r\n            })\r\n          )\r\n          players[playerId].active = true\r\n\r\n          return {...state, players, activePlayer: playerId}\r\n        }\r\n      )\r\n    }\r\n\r\n    this.setNextPlayer = () => {\r\n      const {activePlayer, players} = this.state\r\n      const nextPlayerId = (activePlayer + 1) % players.length\r\n      this.setActivePlayer(nextPlayerId)\r\n    }\r\n\r\n    this.dealCardNoState = oldShoe => {\r\n        const shoe = oldShoe.length === 0 ? shuffle(getDecks(8)) : oldShoe\r\n        const card = shoe.pop()\r\n        return {card, shoe}\r\n    }\r\n\r\n    this.dealCard = () => {\r\n      this.setState(\r\n        state => {\r\n          const shoeCopy = [...state.shoe]\r\n          const newShoe = shoeCopy.length === 0 ? shuffle(getDecks(8)) : shoeCopy\r\n          newShoe.pop()\r\n          return {...state, shoe: newShoe}\r\n        }\r\n      )\r\n    }\r\n\r\n    this.dealCardToPlayer = playerId => {\r\n      this.setState(\r\n        state => {\r\n          // Make copies of players and show\r\n          const players = [...state.players]\r\n          const shoeCopy = [...state.shoe]\r\n          // Show logic to reshuffle if shoe is empty\r\n          const newShoe = shoeCopy.length === 0 ? shuffle(getDecks(8)) : shoeCopy\r\n          // Adding shoe card to player card array\r\n          const newCards = [\r\n            ...players[playerId].cards,\r\n            newShoe.pop()\r\n          ]\r\n          // Next target for hook\r\n          const total = sumCards(newCards)\r\n          const bust = total > 21\r\n          // If player goes bust, go to next player.\r\n          if (bust) {\r\n            this.setNextPlayer()\r\n          }\r\n\r\n          players[playerId] = {\r\n            ...players[playerId],\r\n            cards: newCards,\r\n            total,\r\n            bust\r\n          }\r\n          return {...state, players, shoe: newShoe}\r\n        }\r\n      )\r\n    }\r\n\r\n    this.dealCardsToDealer = () => {\r\n      const dealer = this.state.players[0]\r\n      // Too much logic here? Have to think about refactor.\r\n      if (dealer.total < 17) {\r\n        const newCards = [...dealer.cards]\r\n        var stateShoe = [...this.state.shoe]\r\n        while(sumCards(newCards) < 17) {\r\n          const {shoe, card} = this.dealCardNoState(stateShoe)\r\n          stateShoe = shoe\r\n          newCards.push(card)\r\n        }\r\n        this.setState(\r\n          state => {\r\n            const players = [...state.players]\r\n            const total = sumCards(newCards)\r\n            const bust = total > 21\r\n            players[0] = {\r\n              ...players[0],\r\n              cards: newCards,\r\n              total,\r\n              bust\r\n            }\r\n            return {\r\n              ...state,\r\n              players,\r\n              shoe: stateShoe\r\n            }\r\n          }\r\n        ) \r\n      } \r\n    }\r\n\r\n    this.resetRound = () => {\r\n      this.setState(state => {\r\n          for (var i = 0; i < state.players.length; i++) {\r\n            state.players[i].cards = []\r\n          }\r\n          return {players: state.players}\r\n        }\r\n      )\r\n    }\r\n\r\n    this.dealRound = () => {\r\n      this.resetRound()\r\n      this.setActivePlayer(1)\r\n      for (var j = 0; j < 2; j++) {\r\n        for (var i = 0; i < this.state.players.length; i++) {\r\n          this.dealCardToPlayer(i)\r\n        }\r\n      }\r\n    }\r\n\r\n    this.state = {\r\n      shoe: [],\r\n      cardInd: 0,\r\n      players: [\r\n        {active: false, total: 0, bust: false, cards: []},\r\n        {active: false, total: 0, bust: false, cards: []},\r\n        {active: false, total: 0, bust: false, cards: []},\r\n        {active: false, total: 0, bust: false, cards: []},\r\n        {active: false, total: 0, bust: false, cards: []},\r\n        {active: false, total: 0, bust: false, cards: []},\r\n        {active: false, total: 0, bust: false, cards: []},\r\n      ],\r\n      activePlayer: 0,\r\n      dealCard: this.dealCard,\r\n      dealCardToPlayer: this.dealCardToPlayer,\r\n      setActivePlayer: this.setActivePlayer,\r\n      setNextPlayer: this.setNextPlayer,\r\n      dealRound: this.dealRound,\r\n      dealCardsToDealer: this.dealCardsToDealer,\r\n    }\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <RootContext.Provider value={this.state}>\r\n        <Spanish21 />\r\n      </RootContext.Provider>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}