(this["webpackJsonpspanish-21"]=this["webpackJsonpspanish-21"]||[]).push([[0],[,,,,,,,function(e){e.exports=JSON.parse('[{"rank":"A","suit":"spades"},{"rank":"2","suit":"spades"},{"rank":"3","suit":"spades"},{"rank":"4","suit":"spades"},{"rank":"5","suit":"spades"},{"rank":"6","suit":"spades"},{"rank":"7","suit":"spades"},{"rank":"8","suit":"spades"},{"rank":"9","suit":"spades"},{"rank":"J","suit":"spades"},{"rank":"Q","suit":"spades"},{"rank":"K","suit":"spades"},{"rank":"A","suit":"diamonds"},{"rank":"2","suit":"diamonds"},{"rank":"3","suit":"diamonds"},{"rank":"4","suit":"diamonds"},{"rank":"5","suit":"diamonds"},{"rank":"6","suit":"diamonds"},{"rank":"7","suit":"diamonds"},{"rank":"8","suit":"diamonds"},{"rank":"9","suit":"diamonds"},{"rank":"J","suit":"diamonds"},{"rank":"Q","suit":"diamonds"},{"rank":"K","suit":"diamonds"},{"rank":"A","suit":"clubs"},{"rank":"2","suit":"clubs"},{"rank":"3","suit":"clubs"},{"rank":"4","suit":"clubs"},{"rank":"5","suit":"clubs"},{"rank":"6","suit":"clubs"},{"rank":"7","suit":"clubs"},{"rank":"8","suit":"clubs"},{"rank":"9","suit":"clubs"},{"rank":"J","suit":"clubs"},{"rank":"Q","suit":"clubs"},{"rank":"K","suit":"clubs"},{"rank":"A","suit":"hearts"},{"rank":"2","suit":"hearts"},{"rank":"3","suit":"hearts"},{"rank":"4","suit":"hearts"},{"rank":"5","suit":"hearts"},{"rank":"6","suit":"hearts"},{"rank":"7","suit":"hearts"},{"rank":"8","suit":"hearts"},{"rank":"9","suit":"hearts"},{"rank":"J","suit":"hearts"},{"rank":"Q","suit":"hearts"},{"rank":"K","suit":"hearts"}]')},,,,,function(e,t,a){e.exports=a(23)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(11),c=a.n(s),i=(a(17),a(6)),l=a(8),o=a(1),u=a(2),d=a(5),p=a(3),h=a(4);function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var f=n.a.createContext(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(a,!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},{shoe:null,cardInd:0,players:[],activePlayer:0},{dealCard:function(){},dealCardToPlayer:function(e){},setActivePlayer:function(e){},setNextPlayer:function(){},dealRound:function(){}})),b=(a(18),a(9)),m=(a(19),a(7)),y=(a(20),function(e){return n.a.createElement("div",{className:"card"},!e.hide&&n.a.createElement("div",{className:"card-content"},n.a.createElement("div",{className:"value"},e.value),n.a.createElement("img",{src:"".concat("/spanish-21-react","/").concat(e.suit,".png"),alt:e.suit&&"".concat(e.suit)})),e.hide&&n.a.createElement("div",{className:"card-content"},"Hidden Card"))}),k=function(e){function t(){return Object(o.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){console.log('"Shoe: '.concat(this.props.card,'"'));var e=m[this.props.cardId];return n.a.createElement(y,{hide:this.props.hide,value:e&&e.rank,suit:e&&e.suit})}}]),t}(r.Component),O=function(e){var t;return e.bust?t=n.a.createElement("div",null,"BUSTED"):e.active&&(t=n.a.createElement("div",null,n.a.createElement("button",{onClick:e.hit}," Hit "),n.a.createElement("button",{onClick:e.stay}," Stay "))),n.a.createElement("div",{className:"player",id:e.id},n.a.createElement("div",{className:"player-header"},n.a.createElement("div",null,"Player ",e.id,": ",e.total),t),n.a.createElement("div",{className:"cards"},e.cards.map((function(e,t){return n.a.createElement(k,{key:t,cardId:e})}))))};function j(e){for(var t=Math.round(e.length/52),a=0;a<1e3*t;a++){var r=Math.floor(Math.random()*e.length),n=Math.floor(Math.random()*e.length),s=e[r];e[r]=e[n],e[n]=s}return e}function E(e){for(var t=[],a=0;a<e;a++)for(var r=0;r<m.length;r++)t.push(r);return t}var P={A:11,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,J:10,Q:10,K:10};function C(e){for(var t=0,a=0,r=0;r<e.length;r++){var n=m[e[r]].rank;if("A"===n)a++;else t+=P[n]}for(var s=0;s<a;s++)t+=11-a+s+1<=t?1:11;return t}var g=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).dealCard=a.dealCard.bind(Object(b.a)(a)),a.state={bank:500,bet:10},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"dealCard",value:function(){this.props.dealCard(this.props.id)}},{key:"render",value:function(){var e=this.props.player,t=e.cards,a=e.active,r=e.bust,s=e.total;return n.a.createElement(O,{id:this.props.id,cards:t,active:a,total:s,bust:r,hit:this.dealCard,stay:this.props.stay})}}]),t}(r.Component),N=(a(21),function(e){return n.a.createElement("div",{className:"dealer",id:e.id},n.a.createElement("div",null,e.active&&n.a.createElement("div",null,"Dealer: ",e.total," ",e.bust&&"BUSTED"),!e.active&&n.a.createElement("div",null,"Dealer: Hidden"),n.a.createElement("div",{className:"dealer-cards"},e.cards.map((function(t,a){return n.a.createElement(k,{key:a,cardId:t,hide:0===a&&!e.active})})))),n.a.createElement("div",null,n.a.createElement("button",{onClick:e.nextPlayer},"Go to next player"),n.a.createElement("button",{onClick:e.dealRound},"Deal Round")))}),w=function(e){function t(){return Object(o.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.info,t=e.cards,a=e.active,r=C(t),s=r>21;return n.a.createElement(N,{id:0,cards:t,total:r,bust:s,active:a,nextPlayer:this.props.nextPlayer,dealRound:this.props.dealRound})}}]),t}(r.Component),D=(a(22),function(e){return n.a.createElement("div",{className:"spanish21-shoe"},n.a.createElement(k,{cardId:e.currentCard}),n.a.createElement("div",null,"Cards Left: ",e.cardsLeft),n.a.createElement("button",{onClick:e.dealCard},"Deal Card"))}),S=function(e){function t(){return Object(o.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.a.createElement(D,{dealCard:this.props.dealCard,cardsLeft:this.props.shoe.length,currentCard:this.props.card})}}]),t}(r.Component),x=function(e){function t(){return Object(o.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.a.createElement(f.Consumer,null,(function(e){var t=e.shoe,a=e.players,r=e.dealCard,s=e.dealCardToPlayer,c=e.setNextPlayer,i=(e.activePlayer,e.dealRound);return n.a.createElement("div",{className:"game"},n.a.createElement("div",null,n.a.createElement(w,{info:a[0],nextPlayer:c,dealRound:i}),n.a.createElement("div",{className:"dealerside"},n.a.createElement(S,{shoe:t,card:t[t.length-1],dealCard:r})),n.a.createElement("div",{className:"players"},a.slice(1).map((function(e,t){return n.a.createElement(g,{key:t+1,player:e,id:t+1,dealCard:function(){return s(t+1)},stay:c})})))))}))}}]),t}(r.Component);x.contextType=f;var A=x;function R(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?R(a,!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var J=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).setActivePlayer=function(e){a.setState((function(t){var a=t.players.map((function(e){return T({},e,{active:!1})}));return a[e].active=!0,T({},t,{players:a,activePlayer:e})}))},a.setNextPlayer=function(){var e=a.state,t=(e.activePlayer+1)%e.players.length;a.setActivePlayer(t),0===t&&a.dealCardsToDealer()},a.dealCardNoState=function(e){var t=0===e.length?j(E(8)):e;return{card:t.pop(),shoe:t}},a.dealCard=function(){a.setState((function(e){var t=Object(i.a)(e.shoe),a=0===t.length?j(E(8)):t;return a.pop(),T({},e,{shoe:a})}))},a.dealCardToPlayer=function(e){a.setState((function(t){var r=Object(i.a)(t.players),n=Object(i.a)(t.shoe),s=0===n.length?j(E(8)):n,c=[].concat(Object(i.a)(r[e].cards),[s.pop()]),l=C(c),o=l>21;return o&&a.setNextPlayer(),r[e]=T({},r[e],{cards:c,total:l,bust:o}),T({},t,{players:r,shoe:s})}))},a.dealCardsToDealer=function(){var e=a.state.players[0];if(e.total<17){for(var t=Object(i.a)(e.cards),r=Object(i.a)(a.state.shoe);C(t)<17;){var n=a.dealCardNoState(r),s=n.shoe,c=n.card;r=s,t.push(c)}a.setState((function(e){var a=Object(i.a)(e.players),n=C(t),s=n>21;return a[0]=T({},a[0],{cards:t,total:n,bust:s}),T({},e,{players:a,shoe:r})}))}},a.resetRound=function(){a.setState((function(e){for(var t=0;t<e.players.length;t++)e.players[t].cards=[];return{players:e.players}}))},a.dealRound=function(){a.resetRound(),a.setActivePlayer(1);for(var e=0;e<2;e++)for(var t=0;t<a.state.players.length;t++)a.dealCardToPlayer(t)},a.state={shoe:[],cardInd:0,players:[{active:!1,total:0,bust:!1,cards:[]},{active:!1,total:0,bust:!1,cards:[]},{active:!1,total:0,bust:!1,cards:[]},{active:!1,total:0,bust:!1,cards:[]},{active:!1,total:0,bust:!1,cards:[]},{active:!1,total:0,bust:!1,cards:[]},{active:!1,total:0,bust:!1,cards:[]}],activePlayer:0,dealCard:a.dealCard,dealCardToPlayer:a.dealCardToPlayer,setActivePlayer:a.setActivePlayer,setNextPlayer:a.setNextPlayer,dealRound:a.dealRound},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.a.createElement(f.Provider,{value:this.state},n.a.createElement(A,null))}}]),t}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[12,1,2]]]);
//# sourceMappingURL=main.84262abc.chunk.js.map